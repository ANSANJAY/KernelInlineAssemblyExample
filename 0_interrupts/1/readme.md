Disabling Interrupts is a way to achieve mutual exclusion on single processor system

Interrupt Flags
-----------------

EFLAGS in x86 is a status register. It is a collection of bits which represents the state of the processor

9th bit of register is Interrupt Flag, which determines whether the processor will handle maskable hardware interrupts or not.

IF = 1, hardware interrupts will be handled
IF = 0, hardware interrupts will be ignored

Note: IF will not affect handling of NMIs and software interrupts generated by INT instruction.

Instructions
------------
CLI     --  Clear Interrupt Flag (Set IF = 0)
STI     --  Sets  Interrupt Flag (Set IF = 1)
POPF    --  Pops 32 bit off the stack into EFLAGS register.
                IF will be set or cleared depending on ninth bit on the top of the stack.

Disable interrupts on current CPU
-----------------------------------

local_irq_disable()

    Finally calls native_irq_disable()
        asm volatile("cli": : :"memory");

        
Enable interrupts on current CPU
---------------------------------

local_irq_enable()

    Finally calls native_irq_enable()
        asm volatile("sti": : :"memory");


